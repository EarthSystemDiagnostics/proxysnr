<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Wrap spectral results for several datasets — WrapSpectralResults • proxysnr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Wrap spectral results for several datasets — WrapSpectralResults"><meta name="description" content="This wrapper function is used to combine all main spectral results for the
signal, noise and signal-to-noise ratio as presented and discussed in Münch
and Laepple (2018), but it can also be used to combine the results for other
data sets."><meta property="og:description" content="This wrapper function is used to combine all main spectral results for the
signal, noise and signal-to-noise ratio as presented and discussed in Münch
and Laepple (2018), but it can also be used to combine the results for other
data sets."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">proxysnr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/proxysnr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/calculate-transfer-functions.html">Calculate transfer functions</a></li>
    <li><a class="dropdown-item" href="../articles/plot-muench-laepple-figures.html">Plot results of Münch &amp; Laepple (2018)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/EarthSystemDiagnostics/proxysnr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Wrap spectral results for several datasets</h1>
      <small class="dont-index">Source: <a href="https://github.com/EarthSystemDiagnostics/proxysnr/blob/master/R/WrapSpectralResults.R" class="external-link"><code>R/WrapSpectralResults.R</code></a></small>
      <div class="d-none name"><code>WrapSpectralResults.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This wrapper function is used to combine all main spectral results for the
signal, noise and signal-to-noise ratio as presented and discussed in Münch
and Laepple (2018), but it can also be used to combine the results for other
data sets.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">WrapSpectralResults</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  diffusion <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time.uncertainty <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  res <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  df.log <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  crit.diffusion <span class="op">=</span> <span class="fl">0.5</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>a comma separated list of named proxy datasets to analyse.</p></dd>


<dt id="arg-diffusion">diffusion<a class="anchor" aria-label="anchor" href="#arg-diffusion"></a></dt>
<dd><p>a list the same length as the number of datasets with each
list element a spectral object (<code><a href="spec.object.html">?spec.object</a></code>) of a transfer function
to correct the corresponding dataset for the effect of diffusion-like
smoothing (<code><a href="SeparateSignalFromNoise.html">?SeparateSignalFromNoise</a></code> for more details on this, and
<code><a href="CalculateDiffusionTF.html">?CalculateDiffusionTF</a></code> for calculating transfer functions
specifically for the firn diffusion process). Internally, the inverse of
the transfer function values are applied to correct for the smoothing
effect on the estimated signal and noise spectra (see Eq. 4 in Münch and
Laepple, 2018). If <code>NULL</code>, no correction is applied at all; if instead
you want to omit the correction only for some specific data set(s), set the
corresponding list element(s) to <code>NA</code>.</p></dd>


<dt id="arg-time-uncertainty">time.uncertainty<a class="anchor" aria-label="anchor" href="#arg-time-uncertainty"></a></dt>
<dd><p>as <code>diffusion</code> a list of transfer functions to
correct for the effect of time uncertainty
(<code><a href="CalculateTimeUncertaintyTF.html">?CalculateTimeUncertaintyTF</a></code> for calculating transfer
functions in the case of layer-counted proxy chronologies).</p></dd>


<dt id="arg-res">res<a class="anchor" aria-label="anchor" href="#arg-res"></a></dt>
<dd><p>the sampling (e.g., temporal) resolution of the proxy data. Either
a single value if all datasets have the same resolution, or a vector with a
value for each dataset.</p></dd>


<dt id="arg-df-log">df.log<a class="anchor" aria-label="anchor" href="#arg-df-log"></a></dt>
<dd><p>a vector of Gaussian kernel widths in log space to smooth the
spectral estimates from each dataset. Either a single value to apply the
same smoothing to all datasets, or a vector with a value for each dataset.</p></dd>


<dt id="arg-crit-diffusion">crit.diffusion<a class="anchor" aria-label="anchor" href="#arg-crit-diffusion"></a></dt>
<dd><p>minimum transfer function value for the diffusion-like
smoothing process to constrain the corresponding correction. This
determines a cutoff frequency until which results are analysed to avoid
large uncertainties at the high-frequency end of the spectra; defaults to
0.5.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of <code>n</code> lists, where <code>n</code> is the number of provided
  datasets and where each of these lists contains up to four elements:</p><dl><dt><code>raw</code>:</dt>
<dd><p>a list with four elements: three spectral objects (the
    raw signal, noise and corresponding SNR spectra), and a two-element
    vector (<code>f.cutoff</code>) with the index and value of the cutoff frequency
    from constraining the smoothing correction (see the <code>crit.diffusion</code>
    parameter).</p></dd>

  <dt><code>corr.diff.only</code>:</dt>
<dd><p>as item <code>raw</code> but with the spectra after
    correction for the effect of diffusion-like smoothing.</p></dd>

  <dt><code>corr.t.unc.only</code>:</dt>
<dd><p>as item <code>raw</code> but with the spectra
    after correction for the effect of time uncertainty.</p></dd>

  <dt><code>corr.full</code>:</dt>
<dd><p>as item <code>raw</code> but with the spectra after
    correction for both the effects of diffusion-like smoothing and time
    uncertainty.</p></dd>


</dl><p>The number of the returned list elements for each dataset depends on
whether transfer functions for the corrections have been provided in
<code>diffusion</code> and <code>time.uncertainty</code> or not. Also, the element
<code>f.cutoff</code> is <code>NA</code> if diffusion-like smoothing has not been corrected
for.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Münch, T. and Laepple, T.: What climate signal is contained in
decadal- to centennial-scale isotope variations from Antarctic ice cores?
Clim. Past, 14, 2053–2070, <a href="https://doi.org/10.5194/cp-14-2053-2018" class="external-link">https://doi.org/10.5194/cp-14-2053-2018</a>,
  2018.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="SeparateSignalFromNoise.html">SeparateSignalFromNoise</a></code>,
  <code><a href="CalculateDiffusionTF.html">CalculateDiffusionTF</a></code>,
  <code><a href="CalculateTimeUncertaintyTF.html">CalculateTimeUncertaintyTF</a></code>, <code><a href="spec.object.html">spec.object</a></code> for the
  definition of a <code>proxysnr</code> spectral object.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Thomas Münch</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Get main results of Münch and Laepple (2018)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">WrapSpectralResults</span><span class="op">(</span></span></span>
<span class="r-in"><span>               dml1 <span class="op">=</span> <span class="va">dml</span><span class="op">$</span><span class="va">dml1</span>, dml2 <span class="op">=</span> <span class="va">dml</span><span class="op">$</span><span class="va">dml2</span>, wais <span class="op">=</span> <span class="va">wais</span>,</span></span>
<span class="r-in"><span>               diffusion <span class="op">=</span> <span class="va">diffusion.tf</span>,</span></span>
<span class="r-in"><span>               time.uncertainty <span class="op">=</span> <span class="va">time.uncertainty.tf</span>,</span></span>
<span class="r-in"><span>               df.log <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.15</span>, <span class="fl">0.15</span>, <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Thomas Münch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

