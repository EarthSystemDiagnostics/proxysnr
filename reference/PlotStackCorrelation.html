<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot proxy stack correlation — PlotStackCorrelation • proxysnr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot proxy stack correlation — PlotStackCorrelation"><meta name="description" content="Plot the correlation of the spatial average of a certain number of proxy
records with the underlying common signal depending on the number of records
averaged and their temporal resolution (e.g., as in the firn core analysis of
Münch and Laepple, 2018, Fig. 4)."><meta property="og:description" content="Plot the correlation of the spatial average of a certain number of proxy
records with the underlying common signal depending on the number of records
averaged and their temporal resolution (e.g., as in the firn core analysis of
Münch and Laepple, 2018, Fig. 4)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">proxysnr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/proxysnr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/calculate-transfer-functions.html">Calculate transfer functions</a></li>
    <li><a class="dropdown-item" href="../articles/plot-muench-laepple-figures.html">Plot results of Münch &amp; Laepple (2018)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/EarthSystemDiagnostics/proxysnr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plot proxy stack correlation</h1>
      <small class="dont-index">Source: <a href="https://github.com/EarthSystemDiagnostics/proxysnr/blob/dev-1.0.0/R/plotting.R" class="external-link"><code>R/plotting.R</code></a></small>
      <div class="d-none name"><code>PlotStackCorrelation.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plot the correlation of the spatial average of a certain number of proxy
records with the underlying common signal depending on the number of records
averaged and their temporal resolution (e.g., as in the firn core analysis of
Münch and Laepple, 2018, Fig. 4).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">PlotStackCorrelation</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  col.pal <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  label <span class="op">=</span> <span class="st">""</span>,</span>
<span>  xlim <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Number of cores"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Averaging period (yr)"</span>,</span>
<span>  xtm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ytm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xtl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ytl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xtm.min <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ytm.min <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>a list of the correlation data (e.g. as output by
<code><a href="ObtainStackCorrelation.html">ObtainStackCorrelation</a></code>), which must have two elements:
<code>freq</code> and <code>correlation</code>, where <code>freq</code> contains the
frequency axis of the underlying proxy dataset (to obtain an axis for the
temporal averaging period), and where <code>correlation</code> is a <code>n * m</code>
matrix of the correlation values. The number of columns of
<code>correlation</code> must match the number of frequency values (i.e. the
length of <code>freq</code>), and the row index stands for the number of proxy
records averaged.</p></dd>


<dt id="arg-col-pal">col.pal<a class="anchor" aria-label="anchor" href="#arg-col-pal"></a></dt>
<dd><p>a color palette function to be used to assign colors in the
plot; the default <code>NULL</code> means to calculate the palette function
internally from ten colours of the diverging <code>RdYlBu</code> palette in the
ColorBrewer 2.0 collection.</p></dd>


<dt id="arg-label">label<a class="anchor" aria-label="anchor" href="#arg-label"></a></dt>
<dd><p>an optional label of the dataset to be displayed at the top of
the plot.</p></dd>


<dt id="arg-xlim">xlim<a class="anchor" aria-label="anchor" href="#arg-xlim"></a></dt>
<dd><p>the x limits (x1, x2) of the plot. Set to <code>NA</code> to use
default limits calculated from the x data range, or supply a numeric vector
of length 2 with custom limits. In the latter case, setting either of the
elements to <code>NA</code> results in using the default limit for this element
only; see the example.</p></dd>


<dt id="arg-ylim">ylim<a class="anchor" aria-label="anchor" href="#arg-ylim"></a></dt>
<dd><p>as <code>xlim</code> for the y limits of the plot.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>x axis label.</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>y axis label.</p></dd>


<dt id="arg-xtm">xtm<a class="anchor" aria-label="anchor" href="#arg-xtm"></a></dt>
<dd><p>x axis tick mark positions; default setting (<code>NULL</code>) uses
<code>c(1, 2, 5, 10, 20)</code>.</p></dd>


<dt id="arg-ytm">ytm<a class="anchor" aria-label="anchor" href="#arg-ytm"></a></dt>
<dd><p>y axis tick mark positions; default setting (<code>NULL</code>) uses
<code>c(2, 5, 10, 20, 50)</code>.</p></dd>


<dt id="arg-xtl">xtl<a class="anchor" aria-label="anchor" href="#arg-xtl"></a></dt>
<dd><p>x axis tick mark labels; if <code>NULL</code> determined automatically
from <code>xtm</code>, else it must be a vector of labels of the same length as
<code>xtm</code>.</p></dd>


<dt id="arg-ytl">ytl<a class="anchor" aria-label="anchor" href="#arg-ytl"></a></dt>
<dd><p>equivalent to <code>xtl</code> for the y axis tick mark labels.</p></dd>


<dt id="arg-xtm-min">xtm.min<a class="anchor" aria-label="anchor" href="#arg-xtm-min"></a></dt>
<dd><p>x axis minor tick marks; default setting <code>NULL</code> uses
minor tick marks that are adapted to the default x major tick marks. Set to
<code>NA</code> to omit minor ticks at all.</p></dd>


<dt id="arg-ytm-min">ytm.min<a class="anchor" aria-label="anchor" href="#arg-ytm-min"></a></dt>
<dd><p>as <code>xtm.min</code> for minor y axis tick marks.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Münch, T. and Laepple, T.: What climate signal is contained in
decadal- to centennial-scale isotope variations from Antarctic ice cores?
Clim. Past, 14, 2053–2070, https://doi.org/10.5194/cp-14-2053-2018, 2018.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="ObtainStackCorrelation.html">ObtainStackCorrelation</a></code>; &lt;https://colorbrewer2.org/&gt;</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Thomas Münch</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># create a toy correlation dataset, which mimicks an increase</span></span></span>
<span class="r-in"><span><span class="co"># in correlation with timescale and with the number of cores</span></span></span>
<span class="r-in"><span><span class="co"># averaged, and plot it:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">nf</span> <span class="op">&lt;-</span> <span class="fl">20</span></span></span>
<span class="r-in"><span><span class="va">nc</span> <span class="op">&lt;-</span> <span class="fl">5</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  freq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.5</span>, length.out <span class="op">=</span> <span class="va">nf</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  correlation <span class="op">=</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.9</span>, length.out <span class="op">=</span> <span class="va">nf</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="va">nc</span>, ncol <span class="op">=</span> <span class="va">nf</span>,</span></span>
<span class="r-in"><span>           byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.3</span>, length.out <span class="op">=</span> <span class="va">nc</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="va">nc</span>, ncol <span class="op">=</span> <span class="va">nf</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">nf</span> <span class="op">*</span> <span class="va">nc</span>, sd <span class="op">=</span> <span class="fl">0.02</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="va">nc</span>, ncol <span class="op">=</span> <span class="va">nf</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span><span class="op">$</span><span class="va">correlation</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">correlation</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">data</span><span class="op">$</span><span class="va">correlation</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">correlation</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">PlotStackCorrelation</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PlotStackCorrelation-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Thomas Münch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

